<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetBooking - Encontre a melhor clínica para seu pet</title>
    <link rel="stylesheet" href="./styles/new-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
</head>
<body>
    <!-- Header/Navbar -->
    <header class="header">
        <div class="navbar">
            <a href="./index.html" class="logo">
                <img src="./img/Imagem do WhatsApp de 2025-09-17 à(s) 15.28.08_75e67870.jpg" alt="PetBooking Logo">
                <span class="logo-text">VetBooking</span>
            </a>
            <div class="nav-links">
                <a href="./index.html" class="nav-link active">Página Inicial</a>
                <a href="./pages/catalogo-clinicas.html" class="nav-link">Clínicas</a>
                <a href="./pages/como-funciona.html" class="nav-link">Como Funciona</a>
            </div>
            <div class="nav-auth">
                <div id="user-logged-in" class="user-menu" style="display: none;">
                    <div class="user-info">
                        <span id="user-name" class="user-name">Usuário</span>
                        <div class="user-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                    </div>
                    <div class="user-dropdown">
                        <a href="/dashboard" class="dropdown-item">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <a href="/pages/editar-perfil.html" class="dropdown-item">
                            <i class="fas fa-user"></i> Meu Perfil
                        </a>
                        <a href="/logout" class="dropdown-item">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </a>
                    </div>
                </div>
                <a id="login-link" href="./pages/login.html" class="account-link">Minha Conta</a>
            </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Encontre a melhor clínica para o seu pet</h1>
            <p>Agende consultas nas melhores clínicas da sua região de forma rápida e segura</p>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-container">
            <h2 class="search-title">O que você está procurando?</h2>
            <form action="/search" method="GET" class="search-form">
                <div class="search-group">
                    <label for="search-text" class="search-label">Especialidade ou serviço</label>
                    <input type="text" id="search-text" name="search-text" class="search-input" placeholder="Ex: Cardiologia, Dermatologia, Vacinação..." required>
                </div>
                
                <div class="search-group">
                    <label for="Location" class="search-label">Localidade</label>
                    <select id="Location" name="Location" class="search-input" required>
                        <option value="">Selecione uma região</option>
                        <option value="Curitiba">Curitiba</option>
                        <option value="São José dos Pinhais">São José dos Pinhais</option>
                        <option value="Pinhais">Pinhais</option>
                    </select>
                </div>
                
                <button type="submit" class="search-button">
                    <i class="fas fa-search"></i> Buscar
                </button>
            </form>
            
            <!-- Mapa para visualização da localidade -->
            <div id="map-container" class="map-container"></div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="features-container">
            <h2 class="features-title">Por que escolher o VetBooking?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3 class="feature-title">Agendamento Fácil</h3>
                    <p class="feature-description">Marque consultas nas melhores clínicas em poucos cliques, escolhendo o horário que melhor se adapta à sua rotina.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                    <i class="fas fa-hospital"></i>
                </div>
                <h3 class="feature-title">Clínicas Qualificadas</h3>
                <p class="feature-description">Todas as clínicas são verificadas e possuem suas credenciais validadas para garantir o melhor atendimento para seu pet.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3 class="feature-title">Avaliações Reais</h3>
                    <p class="feature-description">Veja avaliações de outros tutores para escolher o profissional ideal para o seu pet.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Clínicas em Destaque Section -->
    <section class="features" style="background-color: var(--white);">
        <div class="features-container">
            <h2 class="features-title">Clínicas em Destaque</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <img src="https://via.placeholder.com/300x200" alt="Clínica PetCare" style="width: 100%; border-radius: var(--border-radius-md); margin-bottom: var(--spacing-md);">
                    <h3 class="feature-title">Clínica PetCare</h3>
                    <p class="feature-description"><strong>Serviços:</strong> Consultas, Cirurgias, Exames</p>
                    <p class="feature-description"><strong>Localização:</strong> Curitiba, Centro</p>
                    <div style="display: flex; margin-top: var(--spacing-md);">
                        <div style="color: var(--warning);">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span style="margin-left: var(--spacing-sm); color: var(--text-medium);">4.5 (120 avaliações)</span>
                    </div>
                </div>
                
                <div class="feature-card">
                    <img src="https://via.placeholder.com/300x200" alt="Hospital São Francisco" style="width: 100%; border-radius: var(--border-radius-md); margin-bottom: var(--spacing-md);">
                    <h3 class="feature-title">Hospital São Francisco</h3>
                    <p class="feature-description"><strong>Serviços:</strong> Consultas, Cirurgias, Internação</p>
                    <p class="feature-description"><strong>Localização:</strong> São José dos Pinhais</p>
                    <div style="display: flex; margin-top: var(--spacing-md);">
                        <div style="color: var(--warning);">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span style="margin-left: var(--spacing-sm); color: var(--text-medium);">5.0 (87 avaliações)</span>
                    </div>
                </div>
                
                <div class="feature-card">
                    <img src="https://via.placeholder.com/300x200" alt="Centro Vida Animal" style="width: 100%; border-radius: var(--border-radius-md); margin-bottom: var(--spacing-md);">
                    <h3 class="feature-title">Centro Vida Animal</h3>
                    <p class="feature-description"><strong>Serviços:</strong> Consultas, Vacinação, Pet Shop</p>
                    <p class="feature-description"><strong>Localização:</strong> Curitiba, Batel</p>
                    <div style="display: flex; margin-top: var(--spacing-md);">
                        <div style="color: var(--warning);">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <span style="margin-left: var(--spacing-sm); color: var(--text-medium);">4.0 (65 avaliações)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div>
                <div class="footer-logo">
                    <img src="./img/Imagem do WhatsApp de 2025-09-17 à(s) 15.28.08_75e67870.jpg" alt="PetBooking Logo">
                    <span class="footer-logo-text">VetBooking</span>
                </div>
                <p class="footer-description">Conectando tutores às melhores clínicas para cuidar da saúde do seu pet.</p>
            </div>
            
            <div>
                <h3 class="footer-heading">Links Rápidos</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="./index.html">Página Inicial</a></li>
                    <li class="footer-link"><a href="./pages/catalogo-clinicas.html">Buscar Clínicas</a></li>
                    <li class="footer-link"><a href="./pages/login.html">Minha Conta</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="footer-heading">Para Profissionais</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="./pages/cadastro-clinica.html">Cadastro de Clínicas</a></li>
                    <li class="footer-link"><a href="#">Como Funciona</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="footer-heading">Contato</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="mailto:contato@petbooking.com">contato@petbooking.com</a></li>
                    <li class="footer-link"><a href="tel:+5541999999999">(41) 99999-9999</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 PetBooking. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="./script-new.js"></script>
    <script src="./map.js"></script>
    <script>
        // Toggle user dropdown menu
        document.addEventListener('DOMContentLoaded', function() {
            const userMenu = document.querySelector('.user-menu');
            if (userMenu) {
                userMenu.addEventListener('click', function(e) {
                    this.classList.toggle('active');
                    e.stopPropagation();
                });
            }
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                if (userMenu) {
                    userMenu.classList.remove('active');
                }
            });

            // Verificar se o usuário está logado
            fetch('/check_login', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
                credentials: 'include'
            })
            .then(response => response.json())
            .then(data => {
                if (data.logged_in) {
                    // Usuário está logado
                    document.getElementById('user-name').textContent = data.user_name;
                    document.getElementById('user-logged-in').style.display = 'block';
                    document.getElementById('login-link').style.display = 'none';
                } else {
                    // Usuário não está logado
                    document.getElementById('user-logged-in').style.display = 'none';
                    document.getElementById('login-link').style.display = 'block';
                }
            })
            .catch(error => {
                console.error('Erro ao verificar login:', error);
                // Em caso de erro, mostrar apenas o link de login
                document.getElementById('user-logged-in').style.display = 'none';
                document.getElementById('login-link').style.display = 'block';
            });
        });
    </script>
</body>
</html>